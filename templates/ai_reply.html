<!DOCTYPE html>
<html data-theme="light" lang="en">
<head>
    <meta charset="UTF-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <title>AI Reply</title>
    <link href="https://unpkg.com/@picocss/pico@2.0.6/css/pico.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet">

    <style>
        :root {
       font-size: 1.1rem;
       font-family: 'Roboto', sans-serif;
     }
     /* Optional custom styling for the AI reply form */
     .ai-reply-form {
       margin-top: 1rem;
       padding: 1rem;
     }
     .ai-reply-form header h3 {
       margin-bottom: 0.5rem;
     }
     .ai-reply-form section {
       margin-bottom: 1rem;
     }
     .ai-reply-form label {
       font-weight: bold;
       display: block;
       margin-bottom: 0.3rem;
     }
     .ai-reply-form input,
     .ai-reply-form textarea {
       width: 100%;
       box-sizing: border-box;
     }
     fieldset[role="group"] {
       display: flex;
       gap: 1rem;
       justify-content: flex-end;
     }
    </style>
</head>
<body>
<main class="container">
    <hgroup>
        <h2>AI-Generated Content</h2>
        <p>
            <i class="fa-solid fa-magnifying-glass"></i>
            This response has been generated by artificial intelligence and may not always be accurate.
            Please verify critical information independently.
        </p>
    </hgroup>

    {% if reply.title and reply.description and reply.impact and reply.attribution %}
    <form action="{{ url_for('submit_idea') }}" class="ai-reply-form" method="post">
        <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">

        <div>
            <label for="idea-title">Title</label>
            <input id="idea-title" name="title" placeholder="Enter your idea title" required type="text"
                   value="{{ reply.title }}">
        </div>
        <div>
            <label for="idea-description">Description</label>
            <textarea id="idea-description" name="description" placeholder="Describe your idea..." required>{{ reply.description }}</textarea>
        </div>
        <div>
            <label for="idea-impact">Impact</label>
            <textarea id="idea-impact" name="impact" placeholder="Outline the expected benefits or impact..." required>{{ reply.impact }}</textarea>
        </div>
        <hr/>
        <div>
            <label for="idea-attribution">Attribution</label>
            <input id="idea-attribution" name="attribution"
                   placeholder="Enter attribution (e.g., original source, your name) or contact details" required
                   type="text" value="{{ reply.attribution }}">
        </div>
        <fieldset role="group">
            <button class="outline" onclick="window.location.href='{{ url_for('index') }}'" type="button">Cancel
            </button>
            <button class="primary" type="submit">Submit Idea</button>
        </fieldset>
    </form>
    {% else %}
    <article class="card">
        <div>{{ reply|safe }}</div>
    </article>
    {% endif %}
</main>
</body>
</html>
